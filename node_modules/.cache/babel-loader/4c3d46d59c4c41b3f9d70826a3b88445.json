{"ast":null,"code":"import _classCallCheck from \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Academics\\\\FSE\\\\JK\\\\application-ui-master\\\\application-ui-master\\\\src\\\\assets\\\\components\\\\user\\\\User.jsx\";\nimport React, { Component } from 'react';\nimport AddUser from './AddUser';\nimport UserList from './UserList';\nimport './User.css';\nimport request from 'request';\nimport { Row, Modal, ModalBody, Spinner } from 'reactstrap';\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.state = {\n      userList: props.userList,\n      addUserResponse: {},\n      currentUser: {},\n      userAction: '',\n      showLoadingModal: false\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (props.userList) {\n        this.setState({\n          userList: props.userList\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"user-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(AddUser, {\n        addOrEditUser: function addOrEditUser(action, user) {\n          return _this2.addOrEditUser(action, user);\n        },\n        addUserResponse: this.state.addUserResponse,\n        currentUser: this.state.currentUser,\n        userAction: this.state.userAction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(UserList, {\n        userList: this.state.userList,\n        editUser: function editUser(user) {\n          return _this2.editUser(user);\n        },\n        deleteUser: function deleteUser(user) {\n          return _this2.deleteUser(user);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.showLoadingModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Spinner, {\n        color: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Saving user action. Please wait...\")))));\n    }\n  }, {\n    key: \"addOrEditUser\",\n    value: function addOrEditUser(action, user) {\n      console.log(\"From parent, action = \" + action);\n      console.log(user); // let userListUpdated = this.state.userList;\n      // if (action === 'addUser') {\n      //   userListUpdated.push(user)\n      // } else if (action === 'editUser') {\n      //   userListUpdated.map(userToUpdate => {\n      //     if (user.id === userToUpdate.id) {\n      //       userToUpdate.employeeID = user.employeeID;\n      //       userToUpdate.firstName = user.firstName;\n      //       userToUpdate.lastName = user.lastName;\n      //     }\n      //   });\n      // }\n\n      this.setState({\n        showLoadingModal: true\n      });\n      var dis = this;\n      request.post({\n        url: 'http://localhost:3000/spi/users/addUpdate',\n        json: user\n      }, function (err, httpResponse, body) {\n        console.log(body);\n        dis.setState({\n          userList: body,\n          showLoadingModal: false,\n          addUserResponse: {\n            status: 'success'\n          },\n          currentUser: {},\n          userAction: 'addUser'\n        });\n        dis.props.addOrEditUser(body);\n      });\n    }\n  }, {\n    key: \"editUser\",\n    value: function editUser(user) {\n      this.setState({\n        currentUser: user,\n        userAction: 'editUser'\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(userToDelete) {\n      var dis = this;\n      request.post({\n        url: 'http://localhost:3000/spi/users/deleteUser',\n        json: userToDelete\n      }, function (err, httpResponse, body) {\n        console.log(body);\n        dis.setState({\n          userList: body,\n          showLoadingModal: false,\n          addUserResponse: {\n            status: 'success'\n          },\n          currentUser: {},\n          userAction: 'deleteUser'\n        });\n        dis.props.addOrEditUser(body);\n      });\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport default User;","map":{"version":3,"sources":["E:/Academics/FSE/JK/application-ui-master/application-ui-master/src/assets/components/user/User.jsx"],"names":["React","Component","AddUser","UserList","request","Row","Modal","ModalBody","Spinner","User","props","state","userList","addUserResponse","currentUser","userAction","showLoadingModal","setState","action","user","addOrEditUser","editUser","deleteUser","console","log","dis","post","url","json","err","httpResponse","body","status","userToDelete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AddUser from './AddUser';\nimport UserList from './UserList';\nimport './User.css';\nimport request from 'request';\nimport {\n  Row,\n  Modal, ModalBody, Spinner\n} from 'reactstrap';\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userList: props.userList,\n      addUserResponse: {},\n      currentUser: {},\n      userAction: '',\n      showLoadingModal: false\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.userList) {\n      this.setState({\n        userList: props.userList\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"user-section\">\n        <AddUser addOrEditUser={(action, user) => this.addOrEditUser(action, user)} addUserResponse={this.state.addUserResponse}\n          currentUser={this.state.currentUser} userAction={this.state.userAction} />\n\n        <div className=\"divider\"></div>\n\n        <UserList userList={this.state.userList} editUser={(user) => this.editUser(user)} deleteUser={(user) => this.deleteUser(user)} />\n\n        <Modal isOpen={this.state.showLoadingModal}>\n          <ModalBody>\n            <Row>\n              <Spinner color=\"dark\" />\n            </Row>\n            <Row>\n              <p>Saving user action. Please wait...</p>\n            </Row>\n\n          </ModalBody>\n        </Modal>\n\n      </div>\n    );\n  }\n\n  addOrEditUser(action, user) {\n    console.log(\"From parent, action = \" + action);\n    console.log(user);\n    // let userListUpdated = this.state.userList;\n    // if (action === 'addUser') {\n    //   userListUpdated.push(user)\n    // } else if (action === 'editUser') {\n    //   userListUpdated.map(userToUpdate => {\n    //     if (user.id === userToUpdate.id) {\n    //       userToUpdate.employeeID = user.employeeID;\n    //       userToUpdate.firstName = user.firstName;\n    //       userToUpdate.lastName = user.lastName;\n    //     }\n    //   });\n    // }\n    this.setState({\n      showLoadingModal: true\n    });\n    var dis = this;\n    request.post(\n      {\n        url: 'http://localhost:3000/spi/users/addUpdate',\n        json: user\n      },\n      function (err, httpResponse, body) {\n        console.log(body);\n        dis.setState({\n          userList: body,\n          showLoadingModal: false,\n          addUserResponse: {\n            status: 'success'\n          },\n          currentUser: {},\n          userAction: 'addUser'\n        });\n        dis.props.addOrEditUser(body);\n      }\n    );\n\n  }\n\n  editUser(user) {\n    this.setState({\n      currentUser: user,\n      userAction: 'editUser'\n    });\n  }\n\n  deleteUser(userToDelete) {\n    var dis = this;\n    request.post(\n      {\n        url: 'http://localhost:3000/spi/users/deleteUser',\n        json: userToDelete\n      },\n      function (err, httpResponse, body) {\n        console.log(body);\n        dis.setState({\n          userList: body,\n          showLoadingModal: false,\n          addUserResponse: {\n            status: 'success'\n          },\n          currentUser: {},\n          userAction: 'deleteUser'\n        });\n        dis.props.addOrEditUser(body);\n      }\n    );\n  }\n\n}\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}